<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Tracker - Додати завдання</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .page-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0 40px 0;
        }
        .form-container {
            margin-top: -50px;
            position: relative;
            z-index: 10;
        }
        .card {
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-radius: 15px;
        }
        .form-control:focus, .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 10px;
        }
        .priority-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .priority-low { background-color: #d4edda; color: #155724; }
        .priority-medium { background-color: #fff3cd; color: #856404; }
        .priority-high { background-color: #f8d7da; color: #721c24; }
        
        .navbar-brand {
            font-weight: bold;
            color: #667eea !important;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="./index.html">
                <i class="fas fa-graduation-cap me-2"></i>Study Tracker
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="./index.html">Головна</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./app/pages/dashboard/dashboard.html">Панель</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./app/pages/add-task/add-task.html">Додати завдання</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./app/pages/statistics/statistics.html">Статистика</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="page-header">
        <div class="container">
            <div class="row text-center">
                <div class="col-lg-8 mx-auto">
                    <h1 class="display-5 fw-bold"><i class="fas fa-plus-circle me-3"></i>Додати нове завдання</h1>
                    <p class="lead">Створіть нове навчальне завдання та відслідковуйте свій прогрес</p>
                </div>
            </div>
        </div>
    </section>

    <div class="container form-container pb-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-body p-5">
                        <form id="addTaskForm">
                            <div class="row mb-4">
                                <div class="col-md-8">
                                    <label for="taskTitle" class="form-label fw-bold">Назва завдання</label>
                                    <input type="text" class="form-control form-control-lg" id="taskTitle" placeholder="Введіть назву завдання" required>
                                </div>
                                <div class="col-md-4">
                                    <label for="taskPriority" class="form-label fw-bold">Пріоритет</label>
                                    <select class="form-select form-select-lg" id="taskPriority" required>
                                        <option value="">Виберіть пріоритет</option>
                                        <option value="low">Низький</option>
                                        <option value="medium">Середній</option>
                                        <option value="high">Високий</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="taskDescription" class="form-label fw-bold">Опис завдання</label>
                                <textarea class="form-control" id="taskDescription" rows="4" placeholder="Детальний опис завдання..."></textarea>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="taskSubject" class="form-label fw-bold">Предмет</label>
                                    <select class="form-select" id="taskSubject" required>
                                        <option value="">Виберіть предмет</option>
                                        <option value="mathematics">Математика</option>
                                        <option value="physics">Фізика</option>
                                        <option value="chemistry">Хімія</option>
                                        <option value="biology">Біологія</option>
                                        <option value="history">Історія</option>
                                        <option value="literature">Література</option>
                                        <option value="english">Англійська мова</option>
                                        <option value="programming">Програмування</option>
                                        <option value="other">Інше</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="taskCategory" class="form-label fw-bold">Категорія</label>
                                    <select class="form-select" id="taskCategory" required>
                                        <option value="">Виберіть категорію</option>
                                        <option value="homework">Домашнє завдання</option>
                                        <option value="project">Проект</option>
                                        <option value="exam">Екзамен</option>
                                        <option value="reading">Читання</option>
                                        <option value="research">Дослідження</option>
                                        <option value="practice">Практика</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="taskDate" class="form-label fw-bold">Дата виконання</label>
                                    <input type="date" class="form-control" id="taskDate" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="taskTime" class="form-label fw-bold">Час виконання</label>
                                    <input type="time" class="form-control" id="taskTime">
                                </div>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="estimatedHours" class="form-label fw-bold">Очікуваний час (години)</label>
                                    <input type="number" class="form-control" id="estimatedHours" min="0.5" max="50" step="0.5" placeholder="2.5">
                                </div>
                                <div class="col-md-6">
                                    <label for="taskStatus" class="form-label fw-bold">Статус</label>
                                    <select class="form-select" id="taskStatus">
                                        <option value="pending">Очікує</option>
                                        <option value="in-progress">В процесі</option>
                                        <option value="completed">Завершено</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="taskNotes" class="form-label fw-bold">Додаткові нотатки</label>
                                <textarea class="form-control" id="taskNotes" rows="3" placeholder="Додаткова інформація, посилання, нагадування..."></textarea>
                            </div>

                            <div class="mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="sendReminder">
                                    <label class="form-check-label" for="sendReminder">
                                        <i class="fas fa-bell me-2"></i>Надіслати нагадування
                                    </label>
                                </div>
                            </div>

                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button type="button" class="btn btn-outline-secondary btn-lg me-md-2" onclick="clearForm()">
                                    <i class="fas fa-times me-2"></i>Очистити
                                </button>
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-plus me-2"></i>Створити завдання
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-lg-8 mx-auto">
                <div class="card bg-light">
                    <div class="card-body p-4">
                        <h5 class="card-title"><i class="fas fa-lightning-bolt me-2"></i>Швидкі дії</h5>
                        <div class="row g-3">
                            <div class="col-md-4">
                                <button class="btn btn-outline-primary w-100" onclick="createQuickTask('homework')">
                                    <i class="fas fa-book me-2"></i>Домашнє завдання
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-success w-100" onclick="createQuickTask('exam')">
                                    <i class="fas fa-graduation-cap me-2"></i>Підготовка до екзамену
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-info w-100" onclick="createQuickTask('project')">
                                    <i class="fas fa-project-diagram me-2"></i>Проект
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="successModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title"><i class="fas fa-check-circle me-2"></i>Успіх!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                    <h4 class="mt-3">Завдання створено!</h4>
                    <p class="text-muted">Ваше завдання було успішно додано до списку</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрити</button>
                    <a href="dashboard.html" class="btn btn-primary">Перейти до панелі</a>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set minimum date to today
        document.getElementById('taskDate').min = new Date().toISOString().split('T')[0];

        // Form submission
        document.getElementById('addTaskForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect form data
            const taskData = {
                title: document.getElementById('taskTitle').value,
                priority: document.getElementById('taskPriority').value,
                description: document.getElementById('taskDescription').value,
                subject: document.getElementById('taskSubject').value,
                category: document.getElementById('taskCategory').value,
                date: document.getElementById('taskDate').value,
                time: document.getElementById('taskTime').value,
                estimatedHours: document.getElementById('estimatedHours').value,
                status: document.getElementById('taskStatus').value,
                notes: document.getElementById('taskNotes').value,
                reminder: document.getElementById('sendReminder').checked
            };

            // Simulate saving task (in real app, this would be an API call)
            console.log('Task created:', taskData);
            
            // Show success modal
            const modal = new bootstrap.Modal(document.getElementById('successModal'));
            modal.show();
            
            // Clear form
            document.getElementById('addTaskForm').reset();
        });

        function clearForm() {
            document.getElementById('addTaskForm').reset();
        }

        function createQuickTask(type) {
            const typeConfig = {
                homework: { category: 'homework', priority: 'medium', subject: 'mathematics' },
                exam: { category: 'exam', priority: 'high', subject: 'physics' },
                project: { category: 'project', priority: 'high', subject: 'programming' }
            };

            const config = typeConfig[type];
            document.getElementById('taskCategory').value = config.category;
            document.getElementById('taskPriority').value = config.priority;
            document.getElementById('taskSubject').value = config.subject;
            
            // Set default date to tomorrow
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('taskDate').value = tomorrow.toISOString().split('T')[0];
        }
    </script>
</body>
</html>